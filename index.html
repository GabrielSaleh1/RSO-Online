<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RSO Online</title>
  <style>
    :root{
      --bg:#111827;
      --panel:#1f2937;
      --field:#273449;
      --line:#374151;
      --text:#e5e7eb;
      --accent:#2563eb;
    }
    body{
      font-family:Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      margin:0;
      padding:20px;
    }
    h1{
      text-align:center;
      color:#60a5fa;
      margin-bottom:6px;
    }
    .logo{
      display:block;
      margin:0 auto 10px auto;
      width:100px;
    }
    .panel{
      background:var(--panel);
      border-radius:12px;
      padding:20px;
      box-shadow:0 0 10px rgba(0,0,0,0.3);
      max-width:800px;
      margin:auto;
      overflow:hidden;
    }
    label{font-weight:bold; display:block; margin-top:10px;}
    .row{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
    }
    .row>div{
      flex:1 1 260px;
      min-width:220px;
    }
    input, textarea{
      box-sizing:border-box;
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid var(--line);
      background:var(--field);
      color:var(--text);
      display:block;
    }
    button{
      background:var(--accent);
      color:#fff;
      font-weight:bold;
      border:none;
      border-radius:10px;
      padding:10px 20px;
      cursor:pointer;
      margin-top:16px;
    }
    button:hover{background:#1e40af;}
    pre{
      background:#fff;
      color:#000;
      padding:20px;
      border-radius:10px;
      white-space:pre-wrap;
      font-family:"Courier New",monospace;
    }
    .assinatura{
      margin-top:40px;
      text-align:right;
      font-style:italic;
      font-size:1.1em;
    }
    @media print{
      body{background:#fff; color:#000;}
      .panel{box-shadow:none;}
      button{display:none;}
      .logo{filter:brightness(1);}
    }
  </style>
</head>
<body>
  <img src="https://i.imgur.com/5iB1q6e.png" alt="Brasão Tobias de Aguiar" class="logo">
  <h1>Relatório de Serviço Operacional</h1>

  <div class="panel">
    <form id="rsoForm">
      <div class="row">
        <div>
          <label for="numero">N° do RSO</label>
          <input type="text" id="numero" required>
        </div>
        <div>
          <label for="dataHora">Data/Hora</label>
          <input type="datetime-local" id="dataHora" required>
        </div>
      </div>

      <div class="row">
        <div>
          <label for="rota">Rota</label>
          <input type="text" id="rota">
        </div>
      </div>

      <label>Motorista</label><input type="text" id="motorista">
      <label>Encarregado</label><input type="text" id="encarregado">
      <label>Segurança</label><input type="text" id="seguranca">
      <label>Auxiliar(es)</label><input type="text" id="auxiliares">

      <label>Ilícitos</label><textarea id="ilicitos"></textarea>
      <label>Veículos</label><textarea id="veiculos"></textarea>
      <label>Ocorrências</label><textarea id="ocorrencias"></textarea>
      <label>Abordados</label><textarea id="abordados"></textarea>
      <label>Resultado</label><textarea id="resultado"></textarea>

      <button type="button" id="printBtn">Imprimir / PDF</button>
    </form>

    <pre id="output"></pre>
    <div class="assinatura">Assinatura: Kaio Mathias</div>
  </div>

  <script>
    const form = document.getElementById("rsoForm");
    const output = document.getElementById("output");
    const printBtn = document.getElementById("printBtn");

    form.addEventListener("input", gerarRelatorio);
    function gerarRelatorio(){
      const numero = numero.value = document.getElementById("numero").value;
      const dataHora = document.getElementById("dataHora").value.replace("T"," ");
      const rota = document.getElementById("rota").value;
      const motorista = document.getElementById("motorista").value;
      const encarregado = document.getElementById("encarregado").value;
      const seguranca = document.getElementById("seguranca").value;
      const auxiliares = document.getElementById("auxiliares").value;
      const ilicitos = document.getElementById("ilicitos").value;
      const veiculos = document.getElementById("veiculos").value;
      const ocorrencias = document.getElementById("ocorrencias").value;
      const abordados = document.getElementById("abordados").value;
      const resultado = document.getElementById("resultado").value;

      const relatorio = `
— RELATÓRIO DE SERVIÇO —
Nº: ${numero} / DataHora: ${dataHora}

# ROTA - ${rota}

Motorista: ${motorista}
Encarregado: ${encarregado}
Segurança: ${seguranca}
Auxiliar(es): ${auxiliares}

# ILÍCITOS #
${ilicitos}

# VEÍCULOS #
${veiculos}

# OCORRÊNCIAS #
${ocorrencias}

# ABORDADOS #
${abordados}

# RESULTADO #
${resultado}
`.trim();
      output.textContent = relatorio;
    }

    printBtn.addEventListener("click", ()=>{
      gerarRelatorio();
      window.print();
    });
  </script>
</body>
</html>
